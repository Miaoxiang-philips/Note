## 2024 / 11 / 25
### Zarf Deploy component sequence

- 从代码中看，没有明显的设置seq的地方，是直接循环components来一个个deploy的，但是从提供的example（ArgoCD）来看，只要从上到下写，就会从上到下去Deploy

### 思路
- 当前Zarf没有直接支持Upgrade CRDs从官方层面，但是有issue专门跟踪，并且加到了Zarf v1.0 Planning了，但是那个project状态是Closed
- 现在的第三方工具有些Follow了官方最佳实践，有些没有
- 结论我们**不可能**向BU承诺支持，只能提供测试过有效的情况是怎样的(By Job、Separate manifest repo / helm chart、save to `template/` folder), BU必须自行测试确保可用后用于生产

### 不同情况怎么处理
- 如果By Job：经过测试可用即可
- 如果Separate chart：区分成两个component，crd放到上面，app放下面，Zarf将会自动先upgrade crd，再upgrade app
- 如果Separate manifest：同上
- 如果save to `template/` folder: 经过测试可用即可

### 后续动作
- 等待Zarf官方的动作，有可能官方会有解决方案
